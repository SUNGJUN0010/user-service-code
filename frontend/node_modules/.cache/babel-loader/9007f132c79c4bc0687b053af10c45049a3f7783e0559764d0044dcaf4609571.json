{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uD53C\\uD130\\uD32C\\\\Desktop\\\\user-service-code\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from 'react-router-dom';\nimport { signIn, signUp, signOut, getCurrentUser, fetchAuthSession } from 'aws-amplify/auth';\n\n// Import new components\nimport MainBoardPage from './pages/MainBoardPage';\nimport LoginPage from './pages/LoginPage';\nimport SignUpPage from './pages/SignUpPage';\nimport MyPage from './pages/MyPage';\nimport FindIdentificationPage from './pages/FindIdentificationPage';\nimport FindPasswordPage from './pages/FindPasswordPage';\n\n// Cognito 로그인 페이지 (기존)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CognitoLoginPage() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    if (!username || !password) {\n      alert('사용자명과 비밀번호를 입력해주세요.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const {\n        isSignedIn,\n        nextStep\n      } = await signIn({\n        username,\n        password\n      });\n      console.log('로그인 성공:', {\n        isSignedIn,\n        nextStep\n      });\n      if (isSignedIn) {\n        // JWT 토큰을 로컬 스토리지에 저장\n        const session = await fetchAuthSession();\n        const accessToken = session.tokens.accessToken.toString();\n        localStorage.setItem('authToken', accessToken);\n        alert('로그인 성공!');\n        navigate('/');\n      }\n    } catch (error) {\n      console.error('로그인 오류:', error);\n      alert(`로그인 실패: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif',\n      maxWidth: '400px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AWS Cognito \\uB85C\\uADF8\\uC778\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC0AC\\uC6A9\\uC790\\uBA85\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          style: {\n            width: '100%',\n            padding: '10px',\n            border: '1px solid #ddd',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          style: {\n            width: '100%',\n            padding: '10px',\n            border: '1px solid #ddd',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: {\n          width: '100%',\n          padding: '10px',\n          backgroundColor: loading ? '#ccc' : '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: loading ? 'not-allowed' : 'pointer'\n        },\n        children: loading ? '로그인 중...' : '로그인'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '15px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        style: {\n          color: '#007bff',\n          textDecoration: 'none'\n        },\n        children: \"\\uD648\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n\n// Cognito 회원가입 페이지 (기존)\n_s(CognitoLoginPage, \"dcnk+7idi0lkj5PFbszV9JH+/uk=\", false, function () {\n  return [useNavigate];\n});\n_c = CognitoLoginPage;\nfunction CognitoSignupPage() {\n  _s2();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    email: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const handleSignup = async e => {\n    e.preventDefault();\n    if (!formData.username || !formData.password || !formData.email) {\n      alert('모든 필드를 입력해주세요.');\n      return;\n    }\n    setLoading(true);\n    try {\n      const {\n        isSignUpComplete,\n        userId,\n        nextStep\n      } = await signUp({\n        username: formData.username,\n        password: formData.password,\n        options: {\n          userAttributes: {\n            email: formData.email\n          }\n        }\n      });\n      if (isSignUpComplete) {\n        alert('회원가입이 완료되었습니다!');\n        navigate('/cognito-login');\n      } else {\n        console.log('회원가입 다음 단계:', nextStep);\n        alert('회원가입이 완료되었습니다. 이메일을 확인해주세요.');\n        navigate('/cognito-login');\n      }\n    } catch (error) {\n      console.error('회원가입 오류:', error);\n      alert(`회원가입 실패: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif',\n      maxWidth: '400px',\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AWS Cognito \\uD68C\\uC6D0\\uAC00\\uC785\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSignup,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"\\uC0AC\\uC6A9\\uC790\\uBA85\",\n          value: formData.username,\n          onChange: handleInputChange,\n          style: {\n            width: '100%',\n            padding: '10px',\n            border: '1px solid #ddd',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n          value: formData.password,\n          onChange: handleInputChange,\n          style: {\n            width: '100%',\n            padding: '10px',\n            border: '1px solid #ddd',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '15px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"\\uC774\\uBA54\\uC77C\",\n          value: formData.email,\n          onChange: handleInputChange,\n          style: {\n            width: '100%',\n            padding: '10px',\n            border: '1px solid #ddd',\n            borderRadius: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: {\n          width: '100%',\n          padding: '10px',\n          backgroundColor: loading ? '#ccc' : '#28a745',\n          color: 'white',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: loading ? 'not-allowed' : 'pointer'\n        },\n        children: loading ? '회원가입 중...' : '회원가입'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '15px',\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/cognito-login\",\n        style: {\n          color: '#007bff',\n          textDecoration: 'none'\n        },\n        children: \"\\uB85C\\uADF8\\uC778\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n\n// 대시보드 페이지 (기존)\n_s2(CognitoSignupPage, \"hEhDP/tRRLGcyuOLxjCnv81Pkbo=\", false, function () {\n  return [useNavigate];\n});\n_c2 = CognitoSignupPage;\nfunction DashboardPage() {\n  _s3();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const currentUser = await getCurrentUser();\n        setUser(currentUser);\n      } catch (error) {\n        console.error('사용자 정보 가져오기 실패:', error);\n        navigate('/cognito-login');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUser();\n  }, [navigate]);\n  const handleLogout = async () => {\n    try {\n      await signOut();\n      localStorage.removeItem('authToken');\n      navigate('/');\n    } catch (error) {\n      console.error('로그아웃 오류:', error);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uB85C\\uB529 \\uC911...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      fontFamily: 'Arial, sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uB300\\uC2DC\\uBCF4\\uB4DC\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\uD658\\uC601\\uD569\\uB2C8\\uB2E4, \", user === null || user === void 0 ? void 0 : user.username, \"\\uB2D8!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogout,\n      style: {\n        padding: '10px 20px',\n        backgroundColor: '#dc3545',\n        color: 'white',\n        border: 'none',\n        borderRadius: '5px',\n        cursor: 'pointer'\n      },\n      children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        style: {\n          color: '#007bff',\n          textDecoration: 'none'\n        },\n        children: \"\\uD648\\uC73C\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 241,\n    columnNumber: 5\n  }, this);\n}\n\n// 메인 App 컴포넌트\n_s3(DashboardPage, \"lk6viekuCMMpYORkLYLEq0Wsfds=\", false, function () {\n  return [useNavigate];\n});\n_c3 = DashboardPage;\nfunction App() {\n  _s4();\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [profileImage, setProfileImage] = useState(null);\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    // Cognito 인증 상태 확인\n    checkCognitoAuthState();\n  }, []);\n  const checkCognitoAuthState = async () => {\n    try {\n      const currentUser = await getCurrentUser();\n      if (currentUser) {\n        var _currentUser$signInDe;\n        setCurrentUser({\n          username: currentUser.username,\n          email: ((_currentUser$signInDe = currentUser.signInDetails) === null || _currentUser$signInDe === void 0 ? void 0 : _currentUser$signInDe.loginId) || '',\n          id: currentUser.userId\n        });\n        setIsLoggedIn(true);\n      }\n    } catch (error) {\n      console.log('사용자가 로그인되지 않았습니다:', error);\n      setIsLoggedIn(false);\n      setCurrentUser(null);\n    }\n  };\n  const fetchCurrentUser = async () => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      try {\n        var _currentUser$signInDe2;\n        // Cognito에서 현재 사용자 정보 가져오기\n        const currentUser = await getCurrentUser();\n        setCurrentUser({\n          username: currentUser.username,\n          email: ((_currentUser$signInDe2 = currentUser.signInDetails) === null || _currentUser$signInDe2 === void 0 ? void 0 : _currentUser$signInDe2.loginId) || '',\n          id: currentUser.userId\n        });\n        setIsLoggedIn(true);\n      } catch (error) {\n        console.error('사용자 정보 가져오기 실패:', error);\n        handleLogout();\n      }\n    }\n  };\n  const handleLogin = userData => {\n    setIsLoggedIn(true);\n    setCurrentUser(userData);\n    alert('성공적으로 로그인 되었습니다!');\n  };\n  const handleLogout = async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      if (token) {\n        const response = await fetch('/api/v1/auth/logout', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n          }\n        });\n        if (response.ok) {\n          localStorage.removeItem('authToken');\n          setIsLoggedIn(false);\n          setCurrentUser(null);\n          setProfileImage(null);\n          alert('로그아웃 되었습니다.');\n        } else {\n          alert('로그아웃에 실패했습니다. 다시 시도해 주세요.');\n        }\n      } else {\n        // Cognito 로그아웃\n        try {\n          await signOut();\n        } catch (error) {\n          console.error('Cognito 로그아웃 오류:', error);\n        }\n        localStorage.removeItem('authToken');\n        setIsLoggedIn(false);\n        setCurrentUser(null);\n        setProfileImage(null);\n        alert('로그아웃 되었습니다.');\n      }\n    } catch (error) {\n      console.error('로그아웃 중 오류 발생:', error);\n      alert('로그아웃 처리 중 문제가 발생했습니다.');\n    }\n  };\n  const addPost = newPost => {\n    setPosts(prevPosts => [newPost, ...prevPosts]);\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(MainBoardPage, {\n          isLoggedIn: isLoggedIn,\n          onLogout: handleLogout,\n          profileImage: profileImage,\n          posts: posts,\n          setPosts: setPosts,\n          currentUser: currentUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: /*#__PURE__*/_jsxDEV(LoginPage, {\n          onLogin: handleLogin\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/signup\",\n        element: /*#__PURE__*/_jsxDEV(SignUpPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/mypage\",\n        element: /*#__PURE__*/_jsxDEV(MyPage, {\n          profileImage: profileImage,\n          setProfileImage: setProfileImage,\n          currentUser: currentUser,\n          onLogout: handleLogout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/findid\",\n        element: /*#__PURE__*/_jsxDEV(FindIdentificationPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/findpassword\",\n        element: /*#__PURE__*/_jsxDEV(FindPasswordPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/cognito-login\",\n        element: /*#__PURE__*/_jsxDEV(CognitoLoginPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 47\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/cognito-signup\",\n        element: /*#__PURE__*/_jsxDEV(CognitoSignupPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/dashboard\",\n        element: /*#__PURE__*/_jsxDEV(DashboardPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 5\n  }, this);\n}\n_s4(App, \"JqP2D3SL4/luWvjHLOaGg2XnUxg=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"CognitoLoginPage\");\n$RefreshReg$(_c2, \"CognitoSignupPage\");\n$RefreshReg$(_c3, \"DashboardPage\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Link","useNavigate","signIn","signUp","signOut","getCurrentUser","fetchAuthSession","MainBoardPage","LoginPage","SignUpPage","MyPage","FindIdentificationPage","FindPasswordPage","jsxDEV","_jsxDEV","CognitoLoginPage","_s","username","setUsername","password","setPassword","loading","setLoading","navigate","handleLogin","e","preventDefault","alert","isSignedIn","nextStep","console","log","session","accessToken","tokens","toString","localStorage","setItem","error","message","style","padding","fontFamily","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","marginBottom","type","placeholder","value","onChange","target","width","border","borderRadius","disabled","backgroundColor","color","cursor","marginTop","textAlign","to","textDecoration","_c","CognitoSignupPage","_s2","formData","setFormData","email","handleSignup","isSignUpComplete","userId","options","userAttributes","handleInputChange","name","prev","_c2","DashboardPage","_s3","user","setUser","fetchUser","currentUser","handleLogout","removeItem","onClick","_c3","App","_s4","setCurrentUser","isLoggedIn","setIsLoggedIn","profileImage","setProfileImage","posts","setPosts","checkCognitoAuthState","_currentUser$signInDe","signInDetails","loginId","id","fetchCurrentUser","token","getItem","_currentUser$signInDe2","userData","response","fetch","method","headers","Authorization","ok","addPost","newPost","prevPosts","path","element","onLogout","onLogin","_c4","$RefreshReg$"],"sources":["C:/Users/피터팬/Desktop/user-service-code/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link, useNavigate } from 'react-router-dom';\nimport { signIn, signUp, signOut, getCurrentUser, fetchAuthSession } from 'aws-amplify/auth';\n\n// Import new components\nimport MainBoardPage from './pages/MainBoardPage';\nimport LoginPage from './pages/LoginPage';\nimport SignUpPage from './pages/SignUpPage';\nimport MyPage from './pages/MyPage';\nimport FindIdentificationPage from './pages/FindIdentificationPage';\nimport FindPasswordPage from './pages/FindPasswordPage';\n\n// Cognito 로그인 페이지 (기존)\nfunction CognitoLoginPage() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    if (!username || !password) {\n      alert('사용자명과 비밀번호를 입력해주세요.');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { isSignedIn, nextStep } = await signIn({ username, password });\n      console.log('로그인 성공:', { isSignedIn, nextStep });\n      \n      if (isSignedIn) {\n        // JWT 토큰을 로컬 스토리지에 저장\n        const session = await fetchAuthSession();\n        const accessToken = session.tokens.accessToken.toString();\n        localStorage.setItem('authToken', accessToken);\n        \n        alert('로그인 성공!');\n        navigate('/');\n      }\n    } catch (error) {\n      console.error('로그인 오류:', error);\n      alert(`로그인 실패: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif', maxWidth: '400px', margin: '0 auto' }}>\n      <h2>AWS Cognito 로그인</h2>\n      <form onSubmit={handleLogin}>\n        <div style={{ marginBottom: '15px' }}>\n          <input\n            type=\"text\"\n            placeholder=\"사용자명\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            style={{ width: '100%', padding: '10px', border: '1px solid #ddd', borderRadius: '5px' }}\n          />\n        </div>\n        <div style={{ marginBottom: '15px' }}>\n          <input\n            type=\"password\"\n            placeholder=\"비밀번호\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            style={{ width: '100%', padding: '10px', border: '1px solid #ddd', borderRadius: '5px' }}\n          />\n        </div>\n        <button \n          type=\"submit\"\n          disabled={loading}\n          style={{ \n            width: '100%', \n            padding: '10px', \n            backgroundColor: loading ? '#ccc' : '#007bff', \n            color: 'white', \n            border: 'none', \n            borderRadius: '5px', \n            cursor: loading ? 'not-allowed' : 'pointer' \n          }}\n        >\n          {loading ? '로그인 중...' : '로그인'}\n        </button>\n      </form>\n      <div style={{ marginTop: '15px', textAlign: 'center' }}>\n        <Link to=\"/\" style={{ color: '#007bff', textDecoration: 'none' }}>홈으로 돌아가기</Link>\n      </div>\n    </div>\n  );\n}\n\n// Cognito 회원가입 페이지 (기존)\nfunction CognitoSignupPage() {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    email: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    if (!formData.username || !formData.password || !formData.email) {\n      alert('모든 필드를 입력해주세요.');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const { isSignUpComplete, userId, nextStep } = await signUp({\n        username: formData.username,\n        password: formData.password,\n        options: {\n          userAttributes: {\n            email: formData.email,\n          },\n        },\n      });\n\n      if (isSignUpComplete) {\n        alert('회원가입이 완료되었습니다!');\n        navigate('/cognito-login');\n      } else {\n        console.log('회원가입 다음 단계:', nextStep);\n        alert('회원가입이 완료되었습니다. 이메일을 확인해주세요.');\n        navigate('/cognito-login');\n      }\n    } catch (error) {\n      console.error('회원가입 오류:', error);\n      alert(`회원가입 실패: ${error.message}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif', maxWidth: '400px', margin: '0 auto' }}>\n      <h2>AWS Cognito 회원가입</h2>\n      <form onSubmit={handleSignup}>\n        <div style={{ marginBottom: '15px' }}>\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"사용자명\"\n            value={formData.username}\n            onChange={handleInputChange}\n            style={{ width: '100%', padding: '10px', border: '1px solid #ddd', borderRadius: '5px' }}\n          />\n        </div>\n        <div style={{ marginBottom: '15px' }}>\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"비밀번호\"\n            value={formData.password}\n            onChange={handleInputChange}\n            style={{ width: '100%', padding: '10px', border: '1px solid #ddd', borderRadius: '5px' }}\n          />\n        </div>\n        <div style={{ marginBottom: '15px' }}>\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"이메일\"\n            value={formData.email}\n            onChange={handleInputChange}\n            style={{ width: '100%', padding: '10px', border: '1px solid #ddd', borderRadius: '5px' }}\n          />\n        </div>\n        <button \n          type=\"submit\"\n          disabled={loading}\n          style={{ \n            width: '100%', \n            padding: '10px', \n            backgroundColor: loading ? '#ccc' : '#28a745', \n            color: 'white', \n            border: 'none', \n            borderRadius: '5px', \n            cursor: loading ? 'not-allowed' : 'pointer' \n          }}\n        >\n          {loading ? '회원가입 중...' : '회원가입'}\n        </button>\n      </form>\n      <div style={{ marginTop: '15px', textAlign: 'center' }}>\n        <Link to=\"/cognito-login\" style={{ color: '#007bff', textDecoration: 'none' }}>로그인으로 돌아가기</Link>\n      </div>\n    </div>\n  );\n}\n\n// 대시보드 페이지 (기존)\nfunction DashboardPage() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const currentUser = await getCurrentUser();\n        setUser(currentUser);\n      } catch (error) {\n        console.error('사용자 정보 가져오기 실패:', error);\n        navigate('/cognito-login');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, [navigate]);\n\n  const handleLogout = async () => {\n    try {\n      await signOut();\n      localStorage.removeItem('authToken');\n      navigate('/');\n    } catch (error) {\n      console.error('로그아웃 오류:', error);\n    }\n  };\n\n  if (loading) {\n    return <div>로딩 중...</div>;\n  }\n\n  return (\n    <div style={{ padding: '20px', fontFamily: 'Arial, sans-serif' }}>\n      <h1>대시보드</h1>\n      <p>환영합니다, {user?.username}님!</p>\n      <button \n        onClick={handleLogout}\n        style={{ \n          padding: '10px 20px', \n          backgroundColor: '#dc3545', \n          color: 'white', \n          border: 'none', \n          borderRadius: '5px', \n          cursor: 'pointer' \n        }}\n      >\n        로그아웃\n      </button>\n      <div style={{ marginTop: '20px' }}>\n        <Link to=\"/\" style={{ color: '#007bff', textDecoration: 'none' }}>홈으로 돌아가기</Link>\n      </div>\n    </div>\n  );\n}\n\n// 메인 App 컴포넌트\nfunction App() {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [profileImage, setProfileImage] = useState(null);\n  const [posts, setPosts] = useState([]);\n\n  useEffect(() => {\n    // Cognito 인증 상태 확인\n    checkCognitoAuthState();\n  }, []);\n\n  const checkCognitoAuthState = async () => {\n    try {\n      const currentUser = await getCurrentUser();\n      if (currentUser) {\n        setCurrentUser({\n          username: currentUser.username,\n          email: currentUser.signInDetails?.loginId || '',\n          id: currentUser.userId\n        });\n        setIsLoggedIn(true);\n      }\n    } catch (error) {\n      console.log('사용자가 로그인되지 않았습니다:', error);\n      setIsLoggedIn(false);\n      setCurrentUser(null);\n    }\n  };\n\n  const fetchCurrentUser = async () => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      try {\n        // Cognito에서 현재 사용자 정보 가져오기\n        const currentUser = await getCurrentUser();\n        setCurrentUser({\n          username: currentUser.username,\n          email: currentUser.signInDetails?.loginId || '',\n          id: currentUser.userId\n        });\n        setIsLoggedIn(true);\n      } catch (error) {\n        console.error('사용자 정보 가져오기 실패:', error);\n        handleLogout();\n      }\n    }\n  };\n\n  const handleLogin = (userData) => {\n    setIsLoggedIn(true);\n    setCurrentUser(userData);\n    alert('성공적으로 로그인 되었습니다!');\n  };\n\n  const handleLogout = async () => {\n    try {\n      const token = localStorage.getItem('authToken');\n      if (token) {\n        const response = await fetch('/api/v1/auth/logout', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        if (response.ok) {\n          localStorage.removeItem('authToken');\n          setIsLoggedIn(false);\n          setCurrentUser(null);\n          setProfileImage(null);\n          alert('로그아웃 되었습니다.');\n        } else {\n          alert('로그아웃에 실패했습니다. 다시 시도해 주세요.');\n        }\n      } else {\n        // Cognito 로그아웃\n        try {\n          await signOut();\n        } catch (error) {\n          console.error('Cognito 로그아웃 오류:', error);\n        }\n        localStorage.removeItem('authToken');\n        setIsLoggedIn(false);\n        setCurrentUser(null);\n        setProfileImage(null);\n        alert('로그아웃 되었습니다.');\n      }\n    } catch (error) {\n      console.error('로그아웃 중 오류 발생:', error);\n      alert('로그아웃 처리 중 문제가 발생했습니다.');\n    }\n  };\n\n  const addPost = (newPost) => {\n    setPosts((prevPosts) => [newPost, ...prevPosts]);\n  };\n\n  return (\n    <Router>\n      <Routes>\n        {/* 메인 보드 페이지 (먹구름 스타일) */}\n        <Route\n          path=\"/\"\n          element={\n            <MainBoardPage\n              isLoggedIn={isLoggedIn}\n              onLogout={handleLogout}\n              profileImage={profileImage}\n              posts={posts}\n              setPosts={setPosts}\n              currentUser={currentUser}\n            />\n          }\n        />\n        \n        {/* 새로운 페이지들 */}\n        <Route\n          path=\"/login\"\n          element={<LoginPage onLogin={handleLogin} />}\n        />\n        <Route\n          path=\"/signup\"\n          element={<SignUpPage />}\n        />\n        <Route\n          path=\"/mypage\"\n          element={\n            <MyPage\n              profileImage={profileImage}\n              setProfileImage={setProfileImage}\n              currentUser={currentUser}\n              onLogout={handleLogout}\n            />\n          }\n        />\n        <Route path=\"/findid\" element={<FindIdentificationPage />} />\n        <Route path=\"/findpassword\" element={<FindPasswordPage />} />\n\n        {/* 기존 Cognito 페이지들 */}\n        <Route path=\"/cognito-login\" element={<CognitoLoginPage />} />\n        <Route path=\"/cognito-signup\" element={<CognitoSignupPage />} />\n        <Route path=\"/dashboard\" element={<DashboardPage />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}